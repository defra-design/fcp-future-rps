{% if params.items %}
{% set headingLevel = params.headingLevel | default("2") %}

<div class="dwp-timeline {%- if params.classes %} {{ params.classes }}{% endif %}"
{%- for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>
	<ol class="dwp-timeline__items">
		{% for item in params.items %}
			<li class="dwp-timeline__item">
				{% if item.date %}
					<p class="dwp-timeline__datetime">{{ item.date }}</p>
				{% endif %}
				<h{{ headingLevel }} class="dwp-timeline__heading">{{ item.title }}</h{{ headingLevel }}>
				{% if item.byline %}
					<p class="dwp-timeline__by-line">by {{ item.byline }}</p>
				{% endif %}
				{% if item.description %}
					{% if item.description.text %}
						<p class="dwp-timeline__content">{{ item.description.text }}</p>
					{% else%}
						{{ item.description.html | safe }}
					{% endif %}
				{% endif %}
				{% if item.link %}
					<a href="{{ item.link.href }}" class="dwp-timeline__link">
					{{- item.link.text -}}
					{%- if item.link.visuallyHiddenText -%}
						<span class="govuk-visually-hidden"> {{ item.link.visuallyHiddenText }}</span>
					{%- endif -%}
					</a>
				{% endif %}
			</li>
		{% endfor %}
	</ol>
</div>
{% endif %}